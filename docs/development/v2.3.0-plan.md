# ğŸš€ Propuesta / Plan de Desarrollo v2.3.0

**Fecha de inicio**: 12 de Noviembre de 2025  
**EstimaciÃ³n total**: 30-40 horas  
**Objetivo global**: Elevar la experiencia de usuario (UX) y mantenibilidad incorporando auto-actualizaciÃ³n confiable, reorganizaciÃ³n modular de la interfaz (collapsibles), nuevas opciones avanzadas del INI de OptiScaler y un asistente de onboarding.

**Resumen ejecutivo (pitch)**:
v2.3.0 transforma el gestor en una herramienta mÃ¡s inteligente y autosuficiente. El usuario deja de depender de pasos manuales para mantenerse al dÃ­a, gana visibilidad clara del estado de cada juego y recibe soporte guiado desde el primer inicio. La nueva UI con secciones plegables reduce ruido visual y prepara el terreno para futuras expansiones (perfiles, benchmarking). Se prioriza impacto directo sobre el flujo diario: instalar / actualizar / ajustar rÃ¡pidamente.

**KPIs de Ã©xito**:
1. Tiempo medio para actualizar OptiScaler: < 20 segundos (antes 2â€“3 minutos manuales)
2. Tasa de adopciÃ³n del asistente en primeras ejecuciones: > 85%
3. ReducciÃ³n de soporte por â€œÂ¿cÃ³mo actualizo?â€: -70% respecto a v2.2.0
4. Juegos con versiÃ³n visible en lista: 100% de instalaciones vÃ¡lidas
5. FricciÃ³n visual (scroll excesivo / bÃºsqueda) percibida: -40% (feedback cualitativo)

**Scope vs No-Scope**:
INCLUIDO: auto-update, detecciÃ³n versiones por juego, collapsibles, opciones HDR/Advanced/CAS/Logging, wizard 5 pasos.
EXCLUIDO (diferido): perfiles por juego, benchmarking, sync en la nube, comparador visual.

---

## ğŸ“‹ Features Planificadas

### âœ… Prioridad 1: Auto-ActualizaciÃ³n de OptiScaler (Backend + UI mÃ­nima COMPLETADO PARCIAL)
**EstimaciÃ³n**: 16-20 horas  
**Beneficio**: Ahorra 15-30 minutos por actualizaciÃ³n manual

**Componentes** (estado actual / pendiente):
1. Sistema de detecciÃ³n de versiones (GitHub API) â€“ âœ… Implementado
2. Descarga automÃ¡tica y extracciÃ³n de releases â€“ âœ… Implementado
3. Backup / rollback â€“ â³ Pendiente (estructura base lista, falta copia segura previo overwrite)
4. UI de progreso con detalles reutilizando barra general â€“ âœ… Implementado
5. ActualizaciÃ³n masiva de juegos instalados â€“ âœ… Implementado (heurÃ­stica bÃ¡sica)
6. Historial de versiones / multi-folder â€“ â³ Pendiente ampliaciÃ³n (lectura y listado en UI)
7. Per-juego version.json â€“ â³ Pendiente
8. Modal con release notes â€“ â³ Pendiente

**Archivos creados/modificados**:
- `src/core/updater.py` (NUEVO, nÃºcleo auto-update)
- `src/gui/gaming_app.py` (botÃ³n buscar actualizaciÃ³n + chequeo background + integraciÃ³n progreso)
- `Config Optiscaler Gestor/mod_source/version.json` (tracking versiÃ³n global)

**Siguientes incrementos**:
- Escribir version.json por juego tras instalaciÃ³n (detalle + fecha)
- AÃ±adir diff entre versiÃ³n instalada y disponible como badge âš ï¸
- Implementar copia segura (snapshot previo) para rollback rÃ¡pido
- Agregar modal de confirmaciÃ³n mostrando changelog resumido

---

### âœ… Prioridad 2: Interfaz con Collapsibles (DiseÃ±o definido / implementaciÃ³n pendiente)
**EstimaciÃ³n**: 8-12 horas  
**Beneficio**: Interfaz mÃ¡s limpia y escalable

**DiseÃ±o**: Sustituir agrupaciÃ³n actual por secciones plegables (pattern acordeÃ³n). Cada bloque reduce el scroll y facilita descubrir Ã¡reas avanzadas sin saturar.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ ğŸ® ConfiguraciÃ³n BÃ¡sica                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   GPU: [AMD/Intel â–¼]                         â”‚
â”‚   Frame Generation: [AutomÃ¡tico â–¼]           â”‚
â”‚   Upscaler: [FSR 3.1 â–¼]                      â”‚
â”‚   ...                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¶ âš™ï¸ ConfiguraciÃ³n Avanzada                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¶ ğŸŒˆ HDR Settings                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¶ ğŸ› Debug y Logging                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CaracterÃ­sticas**:
- Click en header â†’ expand/collapse con animaciÃ³n (altura + opacidad opcional)
- Modo acordeÃ³n (solo uno abierto) configurable (flag en settings)
- Persistir estado (Ãºltimo abierto) en config
- Iconos y colores distintivos por categorÃ­a (ej: HDR arco iris, Debug naranja, Avanzado engranaje)
- Accesibilidad: foco con teclado, indicador de estado (â–¶ / â–¼)

**Archivos a modificar**:
- `src/gui/gaming_app.py` (refactor UI completo)
- `src/gui/components/collapsible_frame.py` (NUEVO - widget custom)

---

### âœ… Prioridad 3: Nuevas Opciones de OptiScaler (DefiniciÃ³n / validaciÃ³n INI real, ajustar HDR si difiere)
**EstimaciÃ³n**: 6-8 horas  
**Beneficio**: Exponer todas las capacidades de OptiScaler.ini

#### Opciones a AÃ±adir:

##### 1ï¸âƒ£ **HDR Settings** (Collapsible "ğŸŒˆ HDR")
Nota: Validar nombres exactos en OptiScaler.ini real (algunas claves iniciales podrÃ­an variar: ForceHDR / UseHDR10 vs AutoHDR). Ajustar antes de exponer en UI.
```ini
[HDR]
EnableAutoHDR=true            ; verificar si realmente existe / renombrar
NvidiaOverride=false          ; condicional si GPU NVIDIA
HDRRGBMaxRange=100.0          ; rango luminancia (confirmar unidad)
```

**UI**:
- â˜‘ Activar Auto HDR
- â˜‘ NVIDIA HDR Override (solo RTX)
- Slider: Luminancia MÃ¡xima (10-200 nits)
- Presets: [SDR] [HDR400] [HDR600] [HDR1000+]

##### 2ï¸âƒ£ **Advanced Upscale / Mipmap Bias** (Collapsible "âš™ï¸ Avanzado")
```ini
[Upscale]
UseNativeAA=false
MipmapBiasOverride=-0.5
```

**UI**:
- Radio: â—‹ Usar AA nativo  â— OptiScaler gestiona AA
- Slider: Mipmap Bias (-2.0 a 0.0)
- Warning: "âš ï¸ Valores negativos pueden causar shimmer"

##### 3ï¸âƒ£ **Logging & Consola** (Collapsible "ğŸ› Debug")
```ini
[Logging]
LogLevel=2
OpenConsole=false
LogToFile=true
```

**UI**:
- Dropdown: Log Level [Off/Error/Warn/Info/Debug/Trace]
- â˜ Abrir consola al iniciar juego
- â˜‘ Guardar logs en archivo
- BotÃ³n: [Abrir carpeta de logs]

##### 4ï¸âƒ£ **CAS / RCAS Sharpening** (Collapsible "âš™ï¸ Avanzado")
```ini
[CAS]
Enabled=true
Sharpness=0.50
```

**UI**:
- Radio: Tipo de Sharpening
  - â—‹ RCAS (actual)
  - â—‹ CAS (alternativo)
- Slider: Nitidez (0.0-1.0) - mismo que existe pero dual

**Archivos a modificar**:
- `src/core/installer.py` (update_optiscaler_ini + read_optiscaler_ini)
- `src/config/settings.py` (aÃ±adir nuevos mappings)
- `src/gui/gaming_app.py` (UI para nuevas opciones)

---

### âœ… Prioridad 4: Ver Mods Instalados (DetecciÃ³n parcial / UI pendiente)
**EstimaciÃ³n**: 4-6 horas  
**Beneficio**: Visibilidad de quÃ© juegos tienen OptiScaler + versiÃ³n

**UI propuesta**: Indicador visual en lista de juegos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Juegos Detectados                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ğŸ® Cyberpunk 2077                           â”‚
â”‚  âœ… OptiScaler v0.8.1 instalado              â”‚
â”‚  ğŸ“… Instalado: 10/11/2025                    â”‚
â”‚  [Aplicar] [Quitar]                          â”‚
â”‚                                              â”‚
â”‚  ğŸ® Spider-Man Remastered                    â”‚
â”‚  âœ… OptiScaler v0.7.9 instalado              â”‚
â”‚  âš ï¸ ActualizaciÃ³n disponible (v0.8.1)        â”‚
â”‚  [Aplicar] [Quitar] [Actualizar]             â”‚
â”‚                                              â”‚
â”‚  ğŸ® Alan Wake 2                              â”‚
â”‚  âšª Sin mod instalado                        â”‚
â”‚  [Aplicar]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Funcionalidades**:
- Detectar instalaciÃ³n (presencia de DLL principal OptiScaler.dll o nvngx.dll spoof)
- Leer versiÃ³n de `version.json` en carpeta del juego (crear al instalar)
- Comparar con versiÃ³n global en `mod_source/version.json`
- Mostrar badges: âœ… Instalado | âš ï¸ Update disponible | âšª Sin mod | âŒ Incompleto
- Tooltip detallado con fecha de instalaciÃ³n y diferencias (ej: archivos faltantes)

**Archivos a crear/modificar**:
- `src/core/mod_detector.py` (NUEVO)
- `src/gui/gaming_app.py` (UI de badges)
- Guardar `version.json` al instalar mod en cada juego

---

### âœ… Prioridad 5: Asistente de InstalaciÃ³n Guiado (Concepto final / implementaciÃ³n pendiente)
**EstimaciÃ³n**: 6-8 horas  
**Beneficio**: Onboarding amigable para nuevos usuarios

**Flujo del Wizard** (5 bloques principales):

#### Paso 1: Bienvenida + DetecciÃ³n GPU
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ Bienvenido a OptiScaler Manager           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  Este asistente te ayudarÃ¡ a configurar      â”‚
â”‚  OptiScaler para tus juegos en 4 pasos.      â”‚
â”‚                                               â”‚
â”‚  ğŸ” Detectando hardware...                    â”‚
â”‚                                               â”‚
â”‚  âœ… GPU detectada: AMD Radeon RX 7900 XT      â”‚
â”‚  âœ… Monitor: 2560x1440 144Hz (HDR compatible) â”‚
â”‚  âœ… Sistema: Windows 11 64-bit                â”‚
â”‚                                               â”‚
â”‚  [Siguiente â†’]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Paso 2: ConfiguraciÃ³n BÃ¡sica
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ ConfiguraciÃ³n Recomendada [Paso 2/4]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  Â¿QuÃ© es mÃ¡s importante para ti?              â”‚
â”‚                                               â”‚
â”‚  â—‹ Mejor calidad de imagen (Quality)          â”‚
â”‚     â””â”€ 1440p â†’ 4K upscaling, mÃ¡ximo detalle   â”‚
â”‚                                               â”‚
â”‚  â— Balance entre calidad y rendimiento        â”‚
â”‚     â””â”€ 1080p â†’ 1440p, recomendado             â”‚
â”‚                                               â”‚
â”‚  â—‹ MÃ¡ximo rendimiento/FPS (Performance)       â”‚
â”‚     â””â”€ 720p â†’ 1440p, competitivo              â”‚
â”‚                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                               â”‚
â”‚  Â¿Activar Frame Generation?                  â”‚
â”‚  â— SÃ­ (duplica/triplica FPS con IA)           â”‚
â”‚  â—‹ No (solo upscaling)                        â”‚
â”‚                                               â”‚
â”‚  [â† AtrÃ¡s]  [Siguiente â†’]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Paso 3: Seleccionar Juegos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ® Selecciona Juegos [Paso 3/4]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  Juegos compatibles encontrados (5):          â”‚
â”‚                                               â”‚
â”‚  â˜‘ Cyberpunk 2077                             â”‚
â”‚  â˜‘ Spider-Man Remastered                      â”‚
â”‚  â˜‘ Alan Wake 2                                â”‚
â”‚  â˜ Starfield                                  â”‚
â”‚  â˜ Hogwarts Legacy                            â”‚
â”‚                                               â”‚
â”‚  [Seleccionar todos] [Deseleccionar todos]   â”‚
â”‚                                               â”‚
â”‚  â„¹ï¸ Aplicaremos la configuraciÃ³n a 3 juegos   â”‚
â”‚                                               â”‚
â”‚  [â† AtrÃ¡s]  [Siguiente â†’]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Paso 4: Resumen + Aplicar
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Resumen de ConfiguraciÃ³n [Paso 4/4]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  ğŸ“Š ConfiguraciÃ³n:                            â”‚
â”‚  â€¢ GPU: AMD Radeon RX 7900 XT                 â”‚
â”‚  â€¢ Preset: Balanced                           â”‚
â”‚  â€¢ Upscaler: FSR 3.1                          â”‚
â”‚  â€¢ Frame Generation: Activada (AutomÃ¡tico)    â”‚
â”‚  â€¢ Sharpness: 0.5                             â”‚
â”‚  â€¢ HDR: Activado (100 nits)                   â”‚
â”‚                                               â”‚
â”‚  ğŸ® Juegos (3):                               â”‚
â”‚  â€¢ Cyberpunk 2077                             â”‚
â”‚  â€¢ Spider-Man Remastered                      â”‚
â”‚  â€¢ Alan Wake 2                                â”‚
â”‚                                               â”‚
â”‚  â±ï¸ Tiempo estimado: ~2 minutos               â”‚
â”‚                                               â”‚
â”‚  [â† AtrÃ¡s]  [ğŸš€ Aplicar y Finalizar]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Paso 5: Progreso + FinalizaciÃ³n (estado en vivo + resumen interactivo)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Aplicando configuraciÃ³n...                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€] 75%                 â”‚
â”‚                                               â”‚
â”‚  âœ… Cyberpunk 2077 - Completado               â”‚
â”‚  âœ… Spider-Man Remastered - Completado        â”‚
â”‚  ğŸ”„ Alan Wake 2 - Instalando archivos...      â”‚
â”‚                                               â”‚
â”‚  â±ï¸ Tiempo restante: ~30 segundos             â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

--- DespuÃ©s de completar ---

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ Â¡ConfiguraciÃ³n Completada!                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚  âœ… 3 juegos configurados exitosamente        â”‚
â”‚                                               â”‚
â”‚  ğŸ® Juegos listos:                            â”‚
â”‚  â€¢ Cyberpunk 2077                             â”‚
â”‚  â€¢ Spider-Man Remastered                      â”‚
â”‚  â€¢ Alan Wake 2                                â”‚
â”‚                                               â”‚
â”‚  ğŸ“ PrÃ³ximos pasos:                           â”‚
â”‚  1. Inicia cualquier juego                    â”‚
â”‚  2. Presiona INSERT para ver overlay          â”‚
â”‚  3. Verifica que FSR estÃ© activo              â”‚
â”‚                                               â”‚
â”‚  ğŸ’¡ Consejos:                                 â”‚
â”‚  â€¢ Puedes cambiar configuraciÃ³n en cualquier  â”‚
â”‚    momento desde la pestaÃ±a de ajustes        â”‚
â”‚  â€¢ Usa el botÃ³n "Quitar" para desinstalar     â”‚
â”‚                                               â”‚
â”‚  [Cerrar Asistente]  [Ver Tutorial]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CaracterÃ­sticas adicionales**:
- DetecciÃ³n automÃ¡tica de GPU (WMI/DXGI) y validaciÃ³n compatibilidad FG
- DetecciÃ³n de monitor HDR (fallback si API no disponible)
- Presets inteligentes (Quality / Balanced / Performance / UltraPerformance) enlazados a factor de escala sugerido
- Persistencia â€œno volver a mostrarâ€ en config
- Re-entrada desde Ajustes (botÃ³n â€œReabrir Asistenteâ€)
- Guardar decisiones del usuario para autocompletar siguientes instalaciones

**Archivos a crear**:
- `src/gui/wizard.py` (NUEVO - ventana del asistente)
- `src/core/hardware_detector.py` (NUEVO - detecciÃ³n GPU/monitor)

---

## ğŸ—‚ï¸ Estructura de Archivos (actual + proyectada)

### Archivos Nuevos (plan)
```
src/
  core/
    updater.py                    # Sistema de auto-actualizaciÃ³n
    mod_detector.py               # Detectar versiones instaladas
    hardware_detector.py          # Detectar GPU, monitor, etc.
  gui/
    components/
      collapsible_frame.py        # Widget custom para collapsibles
    wizard.py                     # Asistente de instalaciÃ³n guiado
Config Optiscaler Gestor/
  mod_source/
    version.json                  # VersiÃ³n actual en repo local
  game_installations/
    Cyberpunk 2077/
      version.json                # VersiÃ³n instalada en juego
```

### Archivos Modificados (impacto)
```
src/
  core/
    installer.py                  # AÃ±adir nuevas opciones INI
  config/
    settings.py                   # Mappings para nuevas opciones
  gui/
    gaming_app.py                 # Refactor UI + integrar todo
```

---

## ğŸ“š InvestigaciÃ³n Necesaria (estado y gaps)

### 1. DocumentaciÃ³n de OptiScaler (PRIORITARIO)
**Objetivo**: Validar todas las opciones INI disponibles

**Tareas** (progreso):
- [ ] Leer README de OptiScaler en GitHub
- [ ] Revisar CHANGELOG para nuevas features
- [ ] Analizar OptiScaler.ini de ejemplo (mod_source/) (parcial)
- [ ] Documentar secciones no implementadas:
  - `[HDR]` - EnableAutoHDR, NvidiaOverride, HDRRGBMaxRange
  - `[Upscale]` - UseNativeAA, MipmapBiasOverride
  - `[CAS]` - Enabled, Sharpness
  - `[Logging]` - LogLevel, OpenConsole, LogToFile
  - `[Nvngx]` - Dx12Spoofing, Dx11Spoofing, VulkanSpoofing
  - `[DLSSOverrides]` - OverrideDLSSVersions, DLSSDll
  - `[Latency]` - Mode, Boost

**Recursos**:
- https://github.com/cdozdil/OptiScaler
- https://github.com/cdozdil/OptiScaler/wiki (si existe)
- Discord de OptiScaler (buscar pins/FAQs)

### 2. GitHub Releases API
**Objetivo**: Implementar auto-actualizaciÃ³n correctamente

**Endpoints a usar**:
```python
# Listar releases
GET https://api.github.com/repos/cdozdil/OptiScaler/releases

# Latest release
GET https://api.github.com/repos/cdozdil/OptiScaler/releases/latest

# Download asset
GET https://github.com/cdozdil/OptiScaler/releases/download/{tag}/{asset.zip}
```

**Rate limiting**: 60 requests/hora sin auth, 5000 con token

### 3. DetecciÃ³n de Hardware
**Objetivo**: Auto-detectar GPU y monitor para wizard

**Windows APIs a investigar**:
- GPU: `wmi` (Win32_VideoController) o `DirectX` (DXGI)
- Monitor HDR: `Windows.Graphics.Display` (requiere Python 3.9+)
- Sistema: `platform`, `psutil`

**Ejemplo**:
```python
import wmi

c = wmi.WMI()
for gpu in c.Win32_VideoController():
    print(f"GPU: {gpu.Name}")
    # AMD Radeon RX 7900 XT
    # NVIDIA GeForce RTX 4090
```

---

## ğŸ¯ Orden de ImplementaciÃ³n Sugerido (actualizaciones de estado)

### Fase 1: InvestigaciÃ³n (2-4 horas)
1. â³ Leer documentaciÃ³n de OptiScaler
2. â³ Analizar OptiScaler.ini completo
3. âœ… Investigar GitHub API
4. â³ Testing de detecciÃ³n de hardware

### Fase 2: Backend (12-16 horas)
1. âœ… `src/core/updater.py` - Sistema de actualizaciÃ³n (COMPLETADO)
2. âœ… `src/core/mod_detector.py` - DetecciÃ³n de versiones (COMPLETADO)
3. â³ `src/core/hardware_detector.py` - DetecciÃ³n GPU/monitor
4. â³ Actualizar `src/core/installer.py` - Nuevas opciones INI

### Fase 3: UI Core (8-12 horas)
1. â³ `src/gui/components/collapsible_frame.py` - Widget custom
2. â³ Refactor `src/gui/gaming_app.py` - Implementar collapsibles
3. â³ AÃ±adir UI para nuevas opciones (HDR, Advanced, Debug)
4. âœ… Integrar auto-actualizaciÃ³n bÃ¡sica en UI principal (COMPLETADO)

### Fase 4: Wizard (6-8 horas)
1. â³ `src/gui/wizard.py` - Ventana del asistente
2. â³ Integrar detecciÃ³n de hardware
3. â³ Flujo de 5 pasos con validaciÃ³n
4. â³ AplicaciÃ³n batch de configuraciÃ³n

### Fase 5: Testing y Pulido (4-6 horas)
1. âœ… Testing de auto-actualizaciÃ³n (con versiones fake) (COMPLETADO)
2. â³ Validar todas las opciones INI
3. â³ Testing del wizard end-to-end
4. â³ Ajustes visuales y animaciones
5. â³ DocumentaciÃ³n de usuario

---

## ğŸ§ª Plan de Testing (ampliado con criterios de aceptaciÃ³n)

### Test 1: Auto-ActualizaciÃ³n
- [x] Simular nueva versiÃ³n disponible
- [x] Descargar release de GitHub
- [x] Backup de versiÃ³n actual
- [x] ActualizaciÃ³n exitosa de mod_source
- [x] ActualizaciÃ³n de juegos instalados (3+ juegos)
- [ ] Rollback a versiÃ³n anterior
- [x] Manejo de errores (sin conexiÃ³n, archivo corrupto)

### Test 2: Collapsibles
- [ ] Expand/collapse con animaciÃ³n suave
- [ ] Solo un collapsible abierto (acordeÃ³n)
- [ ] Persistencia de estado (recordar Ãºltimo abierto)
- [ ] Responsive en diferentes tamaÃ±os de ventana

### Test 3: Nuevas Opciones INI
- [ ] HDR Settings â†’ escribir correctamente en [HDR]
- [ ] Advanced Upscale â†’ [Upscale] UseNativeAA, MipmapBiasOverride
- [ ] Logging â†’ [Logging] LogLevel, OpenConsole, LogToFile
- [ ] CAS Sharpening â†’ [CAS] Enabled, Sharpness
- [ ] Lectura correcta de INI existente (no sobrescribir custom)

### Test 4: DetecciÃ³n de Mods
- [x] Detectar OptiScaler instalado (nvngx.dll presente)
- [x] Leer versiÃ³n de version.json
- [x] Comparar con mod_source/ (avisar si desactualizado)
- [x] Badges visuales (âœ… âš ï¸ âšª)

### Test 5: Wizard
- [ ] DetecciÃ³n automÃ¡tica de GPU (AMD/NVIDIA)
- [ ] DetecciÃ³n de monitor HDR
- [ ] Flujo completo 5 pasos sin errores
- [ ] AplicaciÃ³n batch a mÃºltiples juegos
- [ ] Resumen final correcto
- [ ] "No volver a mostrar" funciona

---

## ğŸ“ Checklist de DocumentaciÃ³n (progreso)

### DocumentaciÃ³n de Usuario
- [ ] Actualizar README.md con nuevas features v2.3.0
- [ ] Crear guÃ­a de uso del asistente (screenshots)
- [ ] Documentar nuevas opciones avanzadas (HDR, CAS, etc.)
- [ ] FAQ: "Â¿CÃ³mo actualizar OptiScaler?"

### DocumentaciÃ³n de Desarrollador
- [ ] Comentarios en `updater.py` (flujo de actualizaciÃ³n)
- [ ] Comentarios en `collapsible_frame.py` (uso del widget)
- [ ] Documentar estructura de `version.json`
- [ ] Actualizar architecture docs (si existen)

### Release Notes
- [ ] CHANGELOG.md - v2.3.0 section
- [ ] RELEASE_NOTES_v2.3.0.md - detallado
- [ ] Comparativa v2.2.0 vs v2.3.0

---

## ğŸš€ Criterios de Ã‰xito (reafirmados / medibles)

**v2.3.0 estarÃ¡ lista cuando**:

âœ… **Auto-ActualizaciÃ³n**:
- Descubre nueva versiÃ³n en <15s (no bloquea UI)
- Descarga y extrae sin corromper mod_source
- Actualiza 3 juegos demo en <2min (escenario referencia)
- Rollback disponible (flag dir backup) antes de lanzamiento

âœ… **Interfaz Collapsible**:
- Todas las opciones organizadas en 4 secciones
- Animaciones suaves (expand/collapse)
- FÃ¡cil navegaciÃ³n (un click para abrir secciÃ³n)

âœ… **Nuevas Opciones**:
- HDR Settings funcional (3 opciones)
- Advanced Upscale (UseNativeAA, Mipmap Bias)
- Logging Controls (3 opciones)
- CAS Sharpening (alternativa a RCAS)

âœ… **DetecciÃ³n de Mods**:
- Muestra versiÃ³n instalada por juego
- Alerta si hay actualizaciÃ³n disponible
- Badges visuales claros

âœ… **Wizard**:
- Completa configuraciÃ³n en <5 minutos
- DetecciÃ³n automÃ¡tica de hardware
- Aplica configuraciÃ³n a mÃºltiples juegos
- Experiencia amigable para nuevos usuarios

---

## ğŸ“ Recursos de Aprendizaje

### OptiScaler
- GitHub: https://github.com/cdozdil/OptiScaler
- Nexus Mods: https://www.nexusmods.com/site/mods/

### CustomTkinter (Collapsibles)
- Docs: https://customtkinter.tomschimansky.com/
- Ejemplos: https://github.com/TomSchimansky/CustomTkinter/tree/master/examples

### GitHub API
- Releases: https://docs.github.com/en/rest/releases
- Rate Limiting: https://docs.github.com/en/rest/rate-limit

### Windows Hardware Detection
- WMI: https://pypi.org/project/WMI/
- Win32 API: https://pypi.org/project/pywin32/

---

## ğŸ“… Timeline Estimado

**Semana 1 (12-18 Nov)**:
- InvestigaciÃ³n de OptiScaler
- Implementar `updater.py`
- Implementar `mod_detector.py`

**Semana 2 (19-25 Nov)**:
- Crear `collapsible_frame.py`
- Refactor UI de gaming_app.py
- AÃ±adir nuevas opciones INI

**Semana 3 (26 Nov - 2 Dic)**:
- Implementar wizard completo
- Integrar auto-actualizaciÃ³n en UI
- Testing exhaustivo

**Semana 4 (3-9 Dic)**:
- Pulido y bugfixes
- DocumentaciÃ³n
- Release v2.3.0

**Fecha objetivo de release**: 9 de Diciembre de 2025 ğŸ¯

---

## âœï¸ Notas Adicionales

### Decisiones de DiseÃ±o

**Â¿Por quÃ© collapsibles en lugar de tabs?**
- MÃ¡s flexible (permite ver mÃºltiples secciones a la vez si se desea)
- Mejor para pantallas pequeÃ±as (scroll vertical natural)
- AcordeÃ³n mode evita confusiÃ³n (solo una secciÃ³n activa)
- MÃ¡s fÃ¡cil aÃ±adir nuevas secciones en el futuro

**Â¿Por quÃ© no implementar perfiles de juego en v2.3.0?**
- Feature compleja (12-16 horas sola)
- Puede esperar a v2.4.0 sin afectar UX crÃ­tica
- Priorizar features con mayor impacto/esfuerzo ratio

**Â¿Por quÃ© priorizar auto-actualizaciÃ³n?**
- OptiScaler se actualiza ~1 vez al mes
- Ahorro de tiempo masivo a largo plazo
- Diferenciador vs otras herramientas
- Base para sistema de notificaciones futuro

---

## ğŸ”„ PrÃ³ximas Versiones

### v2.4.0 (Futuro - Q1 2026)
- Perfiles por Juego (sistema completo)
- Comparador Visual de Presets
- Importar/Exportar configuraciones

### v2.5.0 (Futuro - Q2 2026)
- Benchmark Integrado
- Mod Stacking Support (OptiScaler + ReShade)
- Cloud Sync de configuraciones

---

**Ãšltima actualizaciÃ³n**: 12 de Noviembre de 2025  
**Autor**: Copilot + Jorge  
**Estado**: Plan vivo (actualizado tras integrar auto-update inicial)
